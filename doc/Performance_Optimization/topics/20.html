<!--create by iword1.0 pro, http://www.voland.com.cn-->
<!-- saved from url=(0026)http://www.runqian.com.cn/ -->
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<title>3.5 Index preloading</title>
<link rel="stylesheet" href="../images/template.css" type="text/css" />
<link rel="stylesheet" href="document.css" type="text/css" />
<script language="JavaScript" src="../resource/url.js"></script>
</head>

<body>

<div id="content-bg">
	<div id="centent">
	<div id="centent-title"><h2 style='margin-top:8.15pt;margin-right:0cm;margin-bottom:8.15pt;margin-left:
0cm;text-indent:0cm;mso-list:l0 level2 lfo1'><span
lang=EN-US style='mso-fareast-font-family:"Times New Roman"'><span
style='mso-list:Ignore'>3.5<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><span lang=EN-US>Index preloading</span></h2></div>
	<p class=MsoNormal><span lang=EN-US>We know that the index of big data is often
very large, and multi-level indexes need to be established. For each search, we
need to read in them level by level before we can finally locate the target
value. Because of the high complexity of external storage access, even if the
operating system cache can avoid the actual hard disk action, there will still
be more in-memory moves and object generations. The time to read and sort out
these index segments becomes the main cost of search by index.</span></p>

<p class=MsoNormal><span lang=EN-US>Of course, if it's just one search, it
takes very little time. On modern computers, it can be completed at the millisecond
level, which is generally not felt. However, if you have to search hundreds or
thousands of times, you will feel an obvious delay.</span></p>

<p class=MsoNormal><span lang=EN-US>When processing index search, the database
will generally automatically cache the index segments that have been read. If
they are used again in a short time, they will not be read again, so as to
effectively reduce the search delay. If the new search values always involve
index segments that have not been accessed before, it will appear a little
slow. This phenomenon is easy to occur when the system just starts.</span></p>

<p class=MsoNormal><span lang=EN-US>SPL also provides this mechanism of
automatically caching index segments, and also provides a method of actively
preloading some index segments. When the system starts, they will be loaded
actively, and the subsequent search will be faster without waiting until these
index segments have been accessed.</span></p>

<table class=MsoNormalTable border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;mso-table-layout-alt:fixed;border:none;
 mso-border-top-alt:black;mso-border-left-alt:black;mso-border-bottom-alt:#B2B2B2;
 mso-border-right-alt:#B2B2B2;mso-border-style-alt:solid;mso-border-width-alt:
 .5pt;mso-yfti-tbllook:1184;mso-padding-alt:0cm 0cm 0cm 0cm;mso-border-insideh:
 .5pt solid #B2B2B2;mso-border-insidev:.5pt solid #B2B2B2'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;page-break-inside:avoid;
  height:14.15pt'>
  <td width=47 valign=top style='width:1.0cm;border:solid black 1.0pt;
  border-right:solid windowtext 1.0pt;mso-border-alt:solid black .5pt;
  mso-border-right-alt:solid windowtext .5pt;background:#DDDDDD;padding:0cm 0cm 0cm 0cm;
  height:14.15pt'>
  <p class=TabLabel style='margin-top:8.15pt;margin-right:0cm;margin-bottom:
  8.15pt;margin-left:0cm'><span lang=EN-US style='font-family:"Times New Roman","serif"'>&nbsp;</span></p>
  </td>
  <td width=407 valign=top style='width:244.05pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
  solid windowtext .5pt;background:#DDDDDD;padding:0cm 0cm 0cm 0cm;height:14.15pt'>
  <p class=TabLabel style='margin-top:8.15pt;margin-right:0cm;margin-bottom:
  8.15pt;margin-left:0cm'><span lang=EN-US style='font-family:"Times New Roman","serif"'>A</span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1;page-break-inside:avoid;height:14.15pt'>
  <td width=47 style='width:1.0cm;border-top:none;border-left:solid black 1.0pt;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid black .5pt;mso-border-alt:solid black .5pt;
  mso-border-right-alt:solid windowtext .5pt;background:#DDDDDD;padding:0cm 0cm 0cm 0cm;
  height:14.15pt'>
  <p class=TabLabel style='margin-top:8.15pt;margin-right:0cm;margin-bottom:
  8.15pt;margin-left:0cm'><span lang=EN-US style='font-family:"Times New Roman","serif"'>1</span></p>
  </td>
  <td width=407 valign=top style='width:244.05pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 0cm 0cm 0cm;height:14.15pt'>
  <p class=MsoNormal><span class=code><span lang=EN-US style='mso-bidi-font-size:
  10.5pt;font-family:"Times New Roman","serif";mso-fareast-font-family:楷体;
  font-weight:normal'>=file(&quot;data.ctx&quot;).open()</span></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2;page-break-inside:avoid;height:14.15pt'>
  <td width=47 style='width:1.0cm;border-top:none;border-left:solid black 1.0pt;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid black .5pt;mso-border-alt:solid black .5pt;
  mso-border-right-alt:solid windowtext .5pt;background:#DDDDDD;padding:0cm 0cm 0cm 0cm;
  height:14.15pt'>
  <p class=TabLabel style='margin-top:8.15pt;margin-right:0cm;margin-bottom:
  8.15pt;margin-left:0cm'><span lang=EN-US style='font-family:"Times New Roman","serif"'>2</span></p>
  </td>
  <td width=407 valign=top style='width:244.05pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 0cm 0cm 0cm;height:14.15pt'>
  <p class=MsoNormal><span class=code><span lang=EN-US style='mso-bidi-font-size:
  10.5pt;font-family:"Times New Roman","serif";mso-fareast-font-family:楷体;
  font-weight:normal'>=A1.index@3(IDS)</span></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3;mso-yfti-lastrow:yes;page-break-inside:avoid;
  height:14.15pt'>
  <td width=47 style='width:1.0cm;border-top:none;border-left:solid black 1.0pt;
  border-bottom:solid black 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid black .5pt;mso-border-alt:solid black .5pt;
  mso-border-right-alt:solid windowtext .5pt;background:#DDDDDD;padding:0cm 0cm 0cm 0cm;
  height:14.15pt'>
  <p class=TabLabel style='margin-top:8.15pt;margin-right:0cm;margin-bottom:
  8.15pt;margin-left:0cm'><span lang=EN-US style='font-family:"Times New Roman","serif"'>3</span></p>
  </td>
  <td width=407 valign=top style='width:244.05pt;border-top:none;border-left:
  none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 0cm 0cm 0cm;height:14.15pt'>
  <p class=MsoNormal><span class=code><span lang=EN-US style='mso-bidi-font-size:
  10.5pt;font-family:"Times New Roman","serif";mso-fareast-font-family:楷体;
  font-weight:normal'>=A1.icursor(…;ID==123456).fetch()</span></span></p>
  </td>
 </tr>
</table>

<p class=MsoNormal><span lang=EN-US>@3 means that the first three levels of index
segments are preloaded into memory.</span></p>

<p class=MsoNormal><span lang=EN-US>The index of SPL composite table has four
levels, each level is 1K key values, and the four levels can support up to 1T
records. The first three-level indexes may occupy about several gigabytes of
space. After loading the first three-level indexes, the index segments do not
need to be read again for composite tables with no more than 1G records, and
the index segment will only be read once more for composite tables with larger
data volume.</span></p>

<p class=MsoNormal><span lang=EN-US>If there is not enough memory, you can also
use @2 to load only two levels.</span></p>

<p class=MsoNormal><span lang=EN-US>The preloaded index segments will exist
throughout the process and will be automatically used by other threads of the
same process.</span></p>
	</div>
	<div id="previous-next">
		<div id="next"><a href="21.html">Next</a></div>
		<div id="previous"><a href="19.html">Previous</a></div>		
	</div>
	<div id="related">
		<div class="related-title"><div class="related-title-left"></div>   Related :</div>
		<div class="related-list"><li><span style='font-family:宋体;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'><a href="15.html">3 Search in external storage</a></span></li>
</div>
	</div>
	<div id="footer">	
		
		
    <div class="copyright"> Copyright&reg; 2021-2023 <a href="http://www.scudata.com" target="_Blank">SCUDATA Inc. 
      </a></div>
	</div>
</div>

</body>
</html>
