<!--create by iword1.0 pro, http://www.voland.com.cn-->
<!-- saved from url=(0026)http://www.runqian.com.cn/ -->
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<title>11.8.3 Defining a DQL table and querying in DQL</title>
<link rel="stylesheet" href="../images/template.css" type="text/css" />
<link rel="stylesheet" href="document.css" type="text/css" />
<script language="JavaScript" src="../resource/url.js"></script>
</head>

<body>

<div id="content-bg">
	<div id="centent">
	<div id="centent-title"><h3 style='margin-left:39.0pt;text-indent:-39.0pt;mso-list:l25 level3 lfo50'><span
lang=EN-US style='mso-bidi-font-size:16.0pt;line-height:172%;mso-fareast-font-family:
"Times New Roman";mso-bidi-font-weight:bold'><span style='mso-list:Ignore'>11.8.3<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><span lang=EN-US style='mso-bidi-font-size:16.0pt;
line-height:172%;mso-bidi-font-weight:bold'>Defining a DQL table and querying
in DQL</span></h3></div>
	<p class=T-ParCxSpFirst style='text-align:justify;text-justify:inter-ideograph;
text-indent:21.0pt'><span lang=EN-US>After a pseudo table is defined using DQL
tool, we can create a table used in future DQL queries on the DQL interface:</span></p>

<p class=T-ParCxSpMiddle style='text-align:justify;text-justify:inter-ideograph;
text-indent:21.0pt'><span lang=zh-CN style='mso-ansi-language:#0400;mso-fareast-language:
#0400'><img border=0 width=692 height=232
src="Tutorial.files/image2192.jpg" v:shapes="Í¼Æ¬_x0020_1194"></span></p>

<p class=T-ParCxSpMiddle style='text-align:justify;text-justify:inter-ideograph;
text-indent:21.0pt'><span lang=EN-US>Select Tool-&gt;Generate table from pseudo
table through the menu bar and generate a DQL table using the defined pseudo
table:</span></p>

<p class=T-ParCxSpMiddle style='text-align:justify;text-justify:inter-ideograph;
text-indent:21.0pt'><span lang=zh-CN style='mso-ansi-language:#0400;mso-fareast-language:
#0400'><img border=0 width=693 height=394
src="Tutorial.files/image2194.jpg" v:shapes="Í¼Æ¬_x0020_1195"></span></p>

<p class=T-ParCxSpMiddle style='text-align:justify;text-justify:inter-ideograph;
text-indent:21.0pt'><span lang=EN-US>Below is the configured DQL table with
desired fields:</span></p>

<p class=T-ParCxSpMiddle style='text-align:justify;text-justify:inter-ideograph;
text-indent:21.0pt'><span lang=zh-CN style='mso-ansi-language:#0400;mso-fareast-language:
#0400'><img border=0 width=692 height=406
src="Tutorial.files/image2196.jpg" v:shapes="Í¼Æ¬_x0020_1196"></span></p>

<p class=T-ParCxSpMiddle style='text-align:justify;text-justify:inter-ideograph;
text-indent:21.0pt'><span lang=EN-US>The data in a DQL table can come directly
from a pseudo table or configured row by row by selecting Table source after
the table is added in the DQL tool. After a DQL table is defined, we store its
metadata as <i>test.glmd</i>. In the table, it is the <b>primary key</b> that
identify records uniquely. The key can inherit the primary key of the composite
table file from which the pseudo table is generated. In our <i>emps</i> table,
a foreign key isn¡¯t set and the fields are called<b> measures</b>. </span></p>

<p class=T-ParCxSpMiddle style='text-align:justify;text-justify:inter-ideograph;
text-indent:21.0pt'><span lang=EN-US>Now we can perform queries in DQL in the
DQL tool. Select Tool-&gt;DQL Query on the menu bar and perform a query using a
DQL statement on the DQL query window. DQL syntax is similar to simple SQL
syntax, as the following shows:</span></p>

<p class=T-ParCxSpMiddle style='text-align:justify;text-justify:inter-ideograph;
text-indent:21.0pt'><span lang=zh-CN style='mso-ansi-language:#0400;mso-fareast-language:
#0400'><img border=0 width=692 height=463
src="Tutorial.files/image2197.png" v:shapes="Í¼Æ¬_x0020_1197"></span></p>

<p class=T-ParCxSpMiddle style='text-align:justify;text-justify:inter-ideograph;
text-indent:21.0pt'><span lang=zh-CN style='mso-ansi-language:#0400;mso-fareast-language:
#0400'>Click ¡°Execute¡± button and then we can view the query result on ¡°Browse
data¡± tab:</span></p>

<p class=T-ParCxSpMiddle style='text-align:justify;text-justify:inter-ideograph;
text-indent:21.0pt'><span lang=zh-CN style='mso-ansi-language:#0400;mso-fareast-language:
#0400'><img border=0 width=692 height=463
src="Tutorial.files/image2198.png" v:shapes="Í¼Æ¬_x0020_1198"></span></p>

<p class=T-ParCxSpMiddle style='text-align:justify;text-justify:inter-ideograph;
text-indent:21.0pt'><span lang=zh-CN style='mso-ansi-language:#0400;mso-fareast-language:
#0400'>The DQL tool allows using SQL-like syntax, such as where, as and order
by. For instance:</span></p>

<p class=T-ParCxSpMiddle style='text-align:justify;text-justify:inter-ideograph;
text-indent:21.0pt'><span lang=zh-CN style='mso-ansi-language:#0400;mso-fareast-language:
#0400'><img border=0 width=692 height=463
src="Tutorial.files/image2199.png" v:shapes="Í¼Æ¬_x0020_1199"></span></p>

<p class=T-ParCxSpMiddle style='text-align:justify;text-justify:inter-ideograph;
text-indent:21.0pt'><span lang=zh-CN style='mso-ansi-language:#0400;mso-fareast-language:
#0400'>About syntax DQL supports, <i>esProc DQL Tutorial </i>has detailed
explanations.</span></p>

<p class=T-ParCxSpMiddle style='text-align:justify;text-justify:inter-ideograph;
text-indent:21.0pt'><span lang=zh-CN style='mso-ansi-language:#0400;mso-fareast-language:
#0400'>Now we add a pseudo table definition based on a multi-zone composite
table:</span></p>

<p class=T-ParCxSpMiddle style='text-align:justify;text-justify:inter-ideograph;
text-indent:21.0pt'><span lang=zh-CN style='mso-ansi-language:#0400;mso-fareast-language:
#0400'><img border=0 width=692 height=283
src="Tutorial.files/image2201.jpg" v:shapes="Í¼Æ¬_x0020_1200"></span></p>

<p class=T-ParCxSpMiddle style='text-align:justify;text-justify:inter-ideograph;
text-indent:21.0pt'><span lang=zh-CN style='mso-ansi-language:#0400;mso-fareast-language:
#0400'>Set numbers of zone tables of the multi-zone composite table after
¡°Zone¡±. Select a zone field after ¡°Zone column¡±. By default the first field
will be used as the user field if ¡°User¡± isn¡¯t set. After the pseudo table is
added, we add its definition in the DQL table:</span></p>

<p class=T-ParCxSpMiddle style='text-align:justify;text-justify:inter-ideograph;
text-indent:21.0pt'><span lang=zh-CN style='mso-ansi-language:#0400;mso-fareast-language:
#0400'><img border=0 width=692 height=327
src="Tutorial.files/image2203.jpg" v:shapes="Í¼Æ¬_x0020_1201"></span></p>

<p class=T-ParCxSpMiddle style='text-align:justify;text-justify:inter-ideograph;
text-indent:21.0pt'><span lang=zh-CN style='mso-ansi-language:#0400;mso-fareast-language:
#0400'>Querying a pseudo table in DQL gets the same result as performing the
query through code in esProc:</span></p>

<p class=T-ParCxSpMiddle style='text-align:justify;text-justify:inter-ideograph;
text-indent:21.0pt'><span lang=zh-CN style='mso-ansi-language:#0400;mso-fareast-language:
#0400'><img border=0 width=692 height=426
src="Tutorial.files/image2204.png" v:shapes="Í¼Æ¬_x0020_1202"></span></p>

<p class=T-ParCxSpMiddle style='text-align:justify;text-justify:inter-ideograph;
text-indent:21.0pt'><span lang=zh-CN style='mso-ansi-language:#0400;mso-fareast-language:
#0400'>Similar to SQL, querying all fields in DQL can use the symbol *. Data
queried from a multi-zone composite table will also be merged by the first
field.</span></p>

<p class=T-ParCxSpMiddle style='text-align:justify;text-justify:inter-ideograph;
text-indent:21.0pt'><span lang=zh-CN style='mso-ansi-language:#0400;mso-fareast-language:
#0400'>As handling <i>var_orders</i>, now we add the mutli-zone composite table
<i>orders2.ctx</i> in the pseudo table definition:</span></p>

<p class=T-ParCxSpMiddle style='text-align:justify;text-justify:inter-ideograph;
text-indent:21.0pt'><span lang=zh-CN style='mso-ansi-language:#0400;mso-fareast-language:
#0400'><img border=0 width=692 height=348
src="Tutorial.files/image2206.jpg" v:shapes="Í¼Æ¬_x0020_1203"></span></p>

<p class=T-ParCxSpMiddle style='text-align:justify;text-justify:inter-ideograph;
text-indent:21.0pt'><span lang=zh-CN style='mso-ansi-language:#0400;mso-fareast-language:
#0400'>In mutli-zone composite table <i>orders2.ctx</i>, City is the first
field. Set SID as the user field. When configruations are done, we set the
pseudo table as a DQL table:</span></p>

<p class=T-ParCxSpMiddle style='text-align:justify;text-justify:inter-ideograph;
text-indent:21.0pt'><span lang=zh-CN style='mso-ansi-language:#0400;mso-fareast-language:
#0400'><img border=0 width=692 height=318
src="Tutorial.files/image2208.jpg" v:shapes="Í¼Æ¬_x0020_1204"></span></p>

<p class=T-ParCxSpMiddle style='text-align:justify;text-justify:inter-ideograph;
text-indent:21.0pt'><span lang=zh-CN style='mso-ansi-language:#0400;mso-fareast-language:
#0400'>Perform the query in DQL query window and get result as follows:</span></p>

<p class=T-ParCxSpMiddle style='text-align:justify;text-justify:inter-ideograph;
text-indent:21.0pt'><span lang=zh-CN style='mso-ansi-language:#0400;mso-fareast-language:
#0400'><img border=0 width=692 height=449
src="Tutorial.files/image2209.png" v:shapes="Í¼Æ¬_x0020_1205"></span></p>

<p class=T-ParCxSpLast style='text-align:justify;text-justify:inter-ideograph;
text-indent:21.0pt'><span lang=zh-CN style='mso-ansi-language:#0400;mso-fareast-language:
#0400'>The result is the same as performing the querying in esProc. Data is
ordered by the specified user field after they are merged by the first field.</span></p>
	</div>
	<div id="previous-next">
		<div id="next"><a href="262.html">Next</a></div>
		<div id="previous"><a href="260.html">Previous</a></div>		
	</div>
	<div id="related">
		<div class="related-title"><div class="related-title-left"></div>   Related :</div>
		<div class="related-list"><li><span style='font-family:ËÎÌå;mso-ascii-font-family:"Times New Roman";mso-hansi-font-family:"Times New Roman"'><a href="258.html">11.8 A sketch of DQL</a></span></li>
</div>
	</div>
	<div id="footer">	
		
		<div class="copyright"> Copyright&reg; 2021-2023 <a href="http://www.scudata.com" target="_Blank">Scudata Inc. 
      </a></div> 
        <!--
		<div class="copyright"> Copyright&reg; 2017 <a href="http://www.yimming.com" target="_Blank"> Beijing Yimming Ltd. Co. 
      </a></div>
	  -->
	</div>
</div>

</body>
</html>
